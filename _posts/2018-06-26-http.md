---
layout:     post
title:      "http"
subtitle:   "http协议详解"
date:       2018-6-26
author:     "millzhang"
tags:
    - http
---


> HTTP是一个属于应用层的面向对象的协议，由于其简洁、快速的方式，适用于分布式超媒体信息系统。

### 特点

* 支持客户端/服务器模式；
* 简单快速，客户向服务器请求服务时，只需传送请求方法和路径。
* 灵活:HTTP允许传输任意类型的数据对象。正在传输的类型由Content-Type标记；
* 无连接：每次连接只处理一个请求。服务器处理完客户请求，并受到客户的应答后即断开连接；
* 无状态：对事务处理没有记忆能力。

### 请求

http请求分为3个部分：请求行，消息报文，请求正文。

> **请求行**以一个方法符号开头，以空格分开，后面跟着请求的URI和协议的版本，格式如下：
`Method Request-URI HTTP-Version CRLF`
其中 Method表示请求方法；Request-URI是一个统一资源标识符；HTTP-Version表示请求的HTTP协议版本；CRLF表示回车和换行（除了作为结尾的CRLF外，不允许出现单独的CR或LF字符）

```js
GET /mvc/blog/HistoryToday.aspx?blogId=45748&blogApp=li0803&dateCreated=2008%2F11%2F3+9%3A11%3A00 HTTP/1.1
```

#### 请求方法

* GET     请求获取Request-URI所标识的资源
* POST    在Request-URI所标识的资源后附加新的数据
* HEAD    请求获取由Request-URI所标识的资源的响应消息报头
* PUT     请求服务器存储一个资源，并用Request-URI作为其标识
* DELETE  请求服务器删除Request-URI所标识的资源
* TRACE   请求服务器回送收到的请求信息，主要用于测试或诊断
* CONNECT 保留将来使用
* OPTIONS 请求查询服务器的性能，或者查询与资源相关的选项和需求

### 响应

HTTP响应也是由三个部分组成，分别是：状态行、消息报头、响应正文。

> 格式：`HTTP-Version Status-Code Reason-Phrase CRLF`

```js
HTTP/1.1 200 OK
```

- 1xx：指示信息--表示请求已接收，继续处理
- 2xx：成功--表示请求已被成功接收、理解、接受
- 3xx：重定向--要完成请求必须进行更进一步的操作
- 4xx：客户端错误--请求有语法错误或请求无法实现
- 5xx：服务器端错误--服务器未能实现合法的请求

常见状态代码、状态描述、说明：

- 200 OK      //客户端请求成功
- 400 Bad Request  //客户端请求有语法错误，不能被服务器所理解
- 401 Unauthorized //请求未经授权，这个状态代码必须和WWW-Authenticate报头域一起使用 
- 403 Forbidden  //服务器收到请求，但是拒绝提供服务
- 404 Not Found  //请求资源不存在，eg：输入了错误的URL
- 500 Internal Server Error //服务器发生不可预期的错误
- 503 Server Unavailable  //服务器当前不能处理客户端的请求，一段时间后可能恢复正常


### 消息报头

